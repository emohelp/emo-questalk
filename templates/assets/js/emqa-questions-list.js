jQuery((function(e){e("form#emqa-search input").autocomplete({appendTo:"form#emqa-search",source:function(t,a){e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:{action:"emqa-auto-suggest-search-result",title:t.term,nonce:e("form#emqa-search input").data("nonce")},success:function(t){console.log(t),a(e.map(t.data,(function(e){return 1==t.success?{label:e.title,value:e.title,url:e.url}:{label:e.message,value:e.message,click:!1}})))}})},select:function(e,t){if(!t.item.url)return!!t.item.click;window.location.href=t.item.url},open:function(t,a){var n=e(this).data("uiAutocomplete");n.menu.element.addClass("emqa-autocomplete").find("li").each((function(){var t=e(this),a=e.trim(n.term).split(" ").join("|");t.html(t.text().replace(new RegExp("("+a+")","gi"),'<span class="emqa-text-highlight">$1</span>'))}))}})}));