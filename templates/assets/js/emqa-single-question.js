!function(e){e("#emqa-favorites").on("change",(function(a){a.preventDefault();var t=e(this);if(t.parent().hasClass("processing"))return!1;t.parent().addClass("processing"),data={action:"emqa-follow-question",nonce:t.data("nonce"),post:t.data("post")},e.ajax({url:emqa.ajax_url,data:data,type:"POST",dataType:"json",success:function(e){t.parent().removeClass("processing")}})})),e(".emqa-vote-up").on("click",(function(a){a.preventDefault();var t=e(this).parent(),o=t.data("post"),n=t.data("nonce"),s="question";t.hasClass("emqa-answer-vote")&&(s="answer");var c={action:"emqa-action-vote",vote_for:s,nonce:n,post:o,type:"up"};e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:c,success:function(e){console.log(e),e.success&&t.find(".emqa-vote-count").text(e.data.vote)}})})),e(".emqa-vote-down").on("click",(function(a){a.preventDefault();var t=e(this).parent(),o=t.data("post"),n=t.data("nonce"),s="question";t.hasClass("emqa-answer-vote")&&(s="answer");var c={action:"emqa-action-vote",vote_for:s,nonce:n,post:o,type:"down"};e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:c,success:function(e){console.log(e),e.success&&t.find(".emqa-vote-count").text(e.data.vote)}})})),e(".emqa_delete_question, .emqa_delete_answer, .emqa-delete-comment").on("click",(function(e){confirm("Are you sure to delete this question.")||e.preventDefault()})),e("#emqa-question-status").on("change",(function(a){var t=e(this),o=t.data("nonce"),n=t.data("post"),s=t.val();e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:{action:"emqa-update-privacy",post:n,nonce:o,status:s},success:function(e){0==e.success?alert(e.data.message):window.location.reload()}})})),e(".emqa-comment-form .emqa-comment-text").on("keyup",(function(e){var a;(a=this).style.height="0px",a.style.height=a.scrollHeight+30+"px"})),e(".emqa-anonymous-fields").hide(),e(document).on("focus",".emqa-comment-form .emqa-comment-text",(function(a){var t=e(this).closest("form");if(e(".emqa-comment-form form").removeClass("emqa-comment-show"),t.addClass("emqa-comment-show"),"undefined"!=typeof emqa_gcv2&&null!==emqa_gcv2){var o=t.find(".emqa-comment-gcaptchav2");if(o.length&&"checked"!==o.data("emqa-check")){o.attr("data-emqa-check","checked");var n=o.data("emqa-id");grecaptcha.render(n,{sitekey:emqa_gcv2.public_key})}}})),e(document).on("click",(function(a){e(a.target).closest(".emqa-comment-form").length||e(".emqa-comment-form form").removeClass("emqa-comment-show")})),window.location.hash&&e("html,body").animate({scrollTop:e(window.location.hash).offset().top},1e3)}(jQuery);