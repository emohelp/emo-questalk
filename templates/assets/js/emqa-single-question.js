!function(e){e("#emqa-favorites").on("change",function(a){a.preventDefault();var t=e(this);if(t.parent().hasClass("processing"))return!1;t.parent().addClass("processing"),data={action:"emqa-follow-question",nonce:t.data("nonce"),post:t.data("post")},e.ajax({url:emqa.ajax_url,data:data,type:"POST",dataType:"json",success:function(e){t.parent().removeClass("processing")}})}),e(".emqa-vote-up").on("click",function(a){a.preventDefault();var t=e(this).parent(),o=t.data("post"),n=t.data("nonce"),s="question";t.hasClass("emqa-answer-vote")&&(s="answer");var c={action:"emqa-action-vote",vote_for:s,nonce:n,post:o,type:"up"};e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:c,success:function(e){console.log(e),e.success&&t.find(".emqa-vote-count").text(e.data.vote)}})}),e(".emqa-vote-down").on("click",function(a){a.preventDefault();var t=e(this).parent(),o=t.data("post"),n=t.data("nonce"),s="question";t.hasClass("emqa-answer-vote")&&(s="answer");var c={action:"emqa-action-vote",vote_for:s,nonce:n,post:o,type:"down"};e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:c,success:function(e){console.log(e),e.success&&t.find(".emqa-vote-count").text(e.data.vote)}})}),e(".emqa_delete_question, .emqa_delete_answer, .emqa-delete-comment").on("click",function(e){confirm("Are you sure to delete this question.")||e.preventDefault()}),e("#emqa-question-status").on("change",function(a){var t=e(this),o=t.data("nonce"),n=t.data("post"),s=t.val();e.ajax({url:emqa.ajax_url,type:"POST",dataType:"json",data:{action:"emqa-update-privacy",post:n,nonce:o,status:s},success:function(e){!1==e.success?alert(e.data.message):window.location.reload()}})}),e(".emqa-comment-form  .emqa-comment-text").on("keyup",function(e){var a;a=this,a.style.height="0px",a.style.height=a.scrollHeight+30+"px"}),e(".emqa-anonymous-fields").hide(),e(".emqa-comment-form  .emqa-comment-text").on("focus",function(a){if(e(".emqa-comment-form form").removeClass("emqa-comment-show"),e(this).closest("form").addClass("emqa-comment-show"),"undefined"!=typeof emqa_gcv2&&null!==emqa_gcv2){var t=e(this).closest("form").find(".emqa-comment-gcaptchav2");if(t.length&&"checked"!=t.data("emqa-check")){t.attr("data-emqa-check","checked");var o=t.data("emqa-id");grecaptcha.render(o,{sitekey:emqa_gcv2.public_key})}}}),window.location.hash&&e("html,body").animate({scrollTop:e(window.location.hash).offset().top},1e3)}(jQuery);